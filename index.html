<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <title>Bandage</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
    :root {
      --color-black: black;
      --color-green: #5cff60;
      --color-red: #be2339;
      --color-white: white;
      --space-btnMargin: 1px;
      --space-margin: 8px;
      --space-padding: 7px;
      --size-folderCircle: 160px;
      --size-fontBase: 16px;
    }

    * {
      margin: 0;
      padding: 0;
    }

    /* –≠–ª–µ–º–µ–Ω—Ç—ã */
    html {
      background: var(--color-red);
      color: var(--color-green);
      font-family: "Segoe UI", Roboto, sans-serif;
      font-size: var(--size-fontBase);
      line-height: 1.5;
    }

    h1 {
      font-size: 2rem;
      font-weight: 500;
    }

    button {
      background: var(--color-green);
      border: none;
    }

    button:hover {
      background: var(--color-black);
    }

    /* –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã */
    .hidden {
      display: none;
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π */
    .id--toolbox {
      background: transparent;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      margin: var(--space-margin);
      padding: var(--space-padding);
    }

    .id--toolbox .item {
      cursor: default;
      /* –Ω–∞ Android —Å –º—ã—à–∫–æ–π –Ω–µ—Ç —Ä—É–∫–∏ */
      cursor: pointer;
      margin: 0 var(--space-margin);
    }

    .id--toolbox .item:hover {
      text-decoration: underline;
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ */
    .id--path {
      background: var(--color-black);
      box-sizing: border-box;
      display: flex;
      justify-content: left;
      margin: var(--space-margin);
      padding: var(--space-padding);
    }

    .id--path .item {
      background-color: transparent;
      cursor: default;
      /* –Ω–∞ Android —Å –º—ã—à–∫–æ–π –Ω–µ—Ç —Ä—É–∫–∏ */
      cursor: pointer;
      margin: 0 var(--space-margin);
      padding: var(--space-padding);
      transition: background-color 1s ease, color 1s ease;
    }

    .id--path .item:hover {
      background-color: var(--color-green);
      color: var(--color-black);
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞ */
    .id--activity {
      margin: var(--space-margin);
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞. –ü–∞–ø–∫–∞ */
    .id--activity .id--folder .item {
      background: var(--color-white);
      border-radius: calc(var(--size-folderCircle) / 2);
      box-sizing: border-box;
      color: var(--color-black);
      display: flex;
      margin-bottom: var(--space-margin);
      max-height: var(--size-folderCircle);
      overflow: hidden;
      /* –ó–∞—Ç—É—Ö–∞–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ - —ç—Ç–æ —Å–≤-–≤–æ –∏ —Å–ª–µ–¥. —Å–µ–ª–µ–∫—Ç–æ—Ä */
      position: relative;
    }

    .id--activity .id--folder .item::after {
      background: linear-gradient(to bottom, transparent 4%, var(--color-white));
      bottom: 0;
      content: '';
      height: calc(4 * var(--space-padding));
      left: 0;
      position: absolute;
      right: 0;
    }

    .id--activity .id--folder .item .icon,
    .id--activity .id--folder .item .ctrl {
      align-items: center;
      display: flex;
      flex: 0 0 var(--size-folderCircle);
      flex-wrap: wrap;
      justify-content: center;
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞. –ü–∞–ø–∫–∞. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∞–≤–∞—Ç–∞—Ä */
    .id--activity .id--folder .item .icon .glyph {
      --fontSize: calc(4 * var(--size-fontBase));
      --bgSize: calc(7 * var(--size-fontBase));
      align-items: center;
      border-radius: calc(var(--bgSize) / 2);
      display: flex;
      font-size: var(--fontSize);
      height: var(--bgSize);
      justify-content: center;
      width: var(--bgSize);
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞. –ü–∞–ø–∫–∞. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∞–≤–∞—Ç–∞—Ä */
    .id--activity .id--folder .item .note {
      text-align: justify;
    }

    /* –í–µ—Ä—Å—Ç–∫–∞. –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞. –ü–∞–ø–∫–∞. –ü—Ä–∞–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ */
    .id--activity .id--folder .item .ctrl .btn {
      /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞ (–∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–ø–∫–æ–π –≤ —Å–ø–∏—Å–∫–µ) */
      --radius-coefficient: 3;
      /* –ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–ø–∫–æ–π –≤ —Å–ø–∏—Å–∫–µ –ø–∞–ø–æ–∫ */
      box-sizing: border-box;
      display: flex;
      font-size: 1.75rem;
      height: calc(var(--size-folderCircle) / 2);
      width: calc(var(--size-folderCircle) / 2);
    }

    .id--activity .id--folder .item .ctrl .btn button {
      box-sizing: border-box;
      display: flex;
      /* –ø—Ä–∏–∂–∏–º–∫–∞ –≥–ª–∏—Ñ–æ–≤ –±–ª–∏–∂–µ –∫ —Ü–µ–Ω—Ç—Ä—É */
      font-size: calc(1.25 * var(--size-fontBase));
      height: calc(var(--radius-coefficient) * var(--size-fontBase));
      padding: var(--space-padding);
      transition: transform 1s ease;
      width: calc(var(--radius-coefficient) * var(--size-fontBase));
    }

    .id--activity .id--folder .item .ctrl .btn button:hover {
      transform: scale(1.2);
    }

    .id--activity .id--folder .item .ctrl .btn.edit,
    .id--activity .id--folder .item .ctrl .btn.edit button {
      align-items: flex-end;
      justify-content: right;
    }

    .id--activity .id--folder .item .ctrl .btn.edit button {
      transform-origin: bottom right;
    }

    .id--activity .id--folder .item .ctrl .btn.del,
    .id--activity .id--folder .item .ctrl .btn.del button {
      align-items: flex-start;
      justify-content: right;
    }

    .id--activity .id--folder .item .ctrl .btn.del button {
      transform-origin: top right;
    }

    .id--activity .id--folder .item .ctrl .btn.up,
    .id--activity .id--folder .item .ctrl .btn.up button {
      align-items: flex-end;
      justify-content: left;
    }

    .id--activity .id--folder .item .ctrl .btn.up button {
      transform-origin: bottom left;
    }

    .id--activity .id--folder .item .ctrl .btn.down .id--activity .id--folder .item .ctrl .btn.down button {
      align-items: flex-start;
      justify-content: left;
    }

    .id--activity .id--folder .item .ctrl .btn.down button {
      transform-origin: top left;
    }

    .id--activity .id--folder .item .description {
      flex-grow: 1;
    }

    .id--activity .id--folder .item .ctrl .btn button[name="editFolder"] {
      border-top-left-radius: calc(var(--radius-coefficient) * var(--size-fontBase));
      margin: 0 var(--space-btnMargin) var(--space-btnMargin) 0;
    }

    .id--activity .id--folder .item .ctrl .btn button[name="delFolder"] {
      border-bottom-left-radius: calc(var(--radius-coefficient) * var(--size-fontBase));
      margin: var(--space-btnMargin) var(--space-btnMargin) 0 0;
    }

    .id--activity .id--folder .item .ctrl .btn button[name="upFolder"] {
      border-top-right-radius: calc(var(--radius-coefficient) * var(--size-fontBase));
      margin: 0 0 var(--space-btnMargin) var(--space-btnMargin);
    }

    .id--activity .id--folder .item .ctrl .btn button[name="downFolder"] {
      border-bottom-right-radius: calc(var(--radius-coefficient) * var(--size-fontBase));
      margin: var(--space-btnMargin) 0 0 var(--space-btnMargin);
    }

    .id--activity .id--folder .item .description .name,
    .id--activity .id--folder .item .description .note {
      padding: var(--space-padding);
    }
  </style>
</head>

<body>
  <div class="id--content hidden">
    <div class="id--toolbox">
      <div class="id--open item">–ò–º–ø–æ—Ä—Ç</div>
      <div class="id--save item">–≠–∫—Å–ø–æ—Ä—Ç</div>
      <div class="id--drop item">–°–±—Ä–æ—Å</div>
    </div>
    <div class="id--path">
      <div class="id--91177c14-c32a-43a0-9013-5d5e87d288eb item">
        /
      </div>
      <div class="id--558b9f44-a933-435d-82bc-388bde8c25c5 item">
        –ó–≤–µ–∑–¥–Ω–∞—è –ò–º–ø–µ—Ä–∏—è –ú–∞–Ω—Ç–∏–∫–æ—Ä–∞
      </div>
      <div class="id--556cca13-055b-478b-8f54-2b2e41ec1664 item">
        –°—Ñ–∏–Ω–∫—Å
      </div>
      <div class="id--995c69de-3394-4f65-baf0-651c6267da01 item">
        –¢–≤–∏–Ω-–§–æ—Ä–∫—Å
      </div>
    </div>
    <div class="id--activity">
      <div class="id--folder">
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–ø–∫–∏, —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä—Å–æ–≤ –∏ –¥—Ä—É–≥–∏–µ –ø–∞–ø–∫–∏. -->
        <div class="id--91177c14-c32a-43a0-9013-5d5e87d288eb item">
          <div class="icon">
            <div class="glyph" style="background: #731d04;">üêà</div>
          </div>
          <div class="description">
            <div class="name">
              <h1>–î—Ä–µ–≤–µ—Å–Ω—ã–µ –∫–æ—Ç—ã</h1>
            </div>
            <div class="note">
              –í –¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä–µ–≤–µ—Å–Ω—ã—Ö –∫–æ—Ç–æ–≤.
              –í–Ω—É—Ç—Ä–∏ ‚Äì –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª–∞–Ω–∞–º.
            </div>
          </div>
          <div class="ctrl">
            <div class="btn edit">
              <button name="editFolder">üñç</button>
            </div>
            <div class="btn up">
              <button name="upFolder">üî∫</button>
            </div>
            <div class="btn del">
              <button name="delFolder">üíÄ</button>
            </div>
            <div class="btn down">
              <button name="downFolder">üîª</button>
            </div>
          </div>
        </div> <!-- .item -->
        <div class="id--558b9f44-a933-435d-82bc-388bde8c25c5 item">
          <div class="icon">
            <div class="glyph" style="background: #ad3196;">üå†</div>
          </div>
          <div class="description">
            <div class="name">
              <h1>–ú–∞–Ω—Ç–∏</h1>
            </div>
            <div class="note">
              –ñ–∏—Ç–µ–ª–∏ –ó–≤–µ–∑–¥–Ω–æ–π –ò–º–ø–µ—Ä–∏–∏ –ú–∞–Ω—Ç–∏–∫–æ—Ä—ã.
              –î–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –†—ã—Å—å - –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞ –ú–∞–Ω—Ç–∏–∫–æ—Ä—ã.
              –†—ã—Å—å - –Ω–µ –ø–µ—Ä–≤–∞—è –∞–Ω–Ω–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞.
              –°–∞–Ω-–ú–∞—Ä—Ç–∏–Ω, –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –æ—Ç –ù–†–• –≤–∫–ª—é—á–∏–ª—Å—è –≤
              —Å–æ—Å—Ç–∞–≤ –ú–∞–Ω—Ç–∏–∫–æ—Ä—ã.
              –î–æ –Ω–µ–≥–æ –±—ã–ª –µ—â–µ –í–∞—Å–∏–ª–∏—Å–∫, —Ö–æ—Ç—è –Ω–∞—Å–µ–ª—è—é—â–∏–µ –µ–≥–æ —Ö–æ–¥—É–ª—å–Ω–∏–∫–∏
              –≤—Ä—è–¥ –ª–∏ —Å—Ç–æ–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω—ã, —á—Ç–æ–±—ã –æ–± —ç—Ç–æ–º —É–∑–Ω–∞—Ç—å.
            </div>
          </div>
          <div class="ctrl">
            <div class="btn edit">
              <button name="editFolder">üñç</button>
            </div>
            <div class="btn up">
              <button name="upFolder">üî∫</button>
            </div>
            <div class="btn del">
              <button name="delFolder">üíÄ</button>
            </div>
            <div class="btn down">
              <button name="downFolder">üîª</button>
            </div>
          </div>
        </div> <!-- .item -->
        <div class="id--556cca13-055b-478b-8f54-2b2e41ec1664 item">
          <div class="icon">
            <div class="glyph" style="background: #ad0c00;">üèÅ</div>
          </div>
          <div class="description">
            <div class="name">
              <h1>–•–µ–≤—ã</h1>
            </div>
            <div class="note">
              –ù–†–•
            </div>
          </div>
          <div class="ctrl">
            <div class="btn edit">
              <button name="editFolder">üñç</button>
            </div>
            <div class="btn up">
              <button name="upFolder">üî∫</button>
            </div>
            <div class="btn del">
              <button name="delFolder">üíÄ</button>
            </div>
            <div class="btn down">
              <button name="downFolder">üîª</button>
            </div>
          </div>
        </div> <!-- .item -->
        <div class="id--995c69de-3394-4f65-baf0-651c6267da01 item">
          <div class="icon">
            <div class="glyph" style="background: #551a0c;">üèï</div>
          </div>
          <div class="description">
            <div class="name">
              <h1>–ê–Ω–¥–∏</h1>
            </div>
            <div class="note">
              –ê–Ω–¥–µ—Ä–º–∞–Ω–¥—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è.
            </div>
          </div>
          <div class="ctrl">
            <div class="btn edit">
              <button name="editFolder">üñç</button>
            </div>
            <div class="btn up">
              <button name="upFolder">üî∫</button>
            </div>
            <div class="btn del">
              <button name="delFolder">üíÄ</button>
            </div>
            <div class="btn down">
              <button name="downFolder">üîª</button>
            </div>
          </div>
        </div> <!-- .item -->
      </div>
      <div class="id--character">
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: –∞—Ç—Ä–∏–±—É—Ç—ã, —Ñ–æ—Ç–∫–∏. -->
      </div>
      <div class="id--attributes">
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏. -->
      </div>
    </div>
  </div>
  <div class="id--dead">
    <!-- –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–æ, —á—Ç–æ –Ω–∞–¥–æ –¥–ª—è —ç—Ç–æ–π —à—Ç—É–∫–∏. -->
    <p class="id--text">–ü—Ä–æ–≤–µ—Ä—è—é –±—Ä–∞—É–∑–µ—Ä&hellip;</p>
  </div>
  <script src="debug/webcode.js"></script>
  <script>
    window.onload = () => {
      const textEl = document.querySelector('.id--dead .id--text');
      if (!window.indexedDB) {
        textEl.innerHTML = '–í —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IndexedDB.';
      } else if (!window.showDirectoryPicker) {
        textEl.innerHTML = '–í —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º.'
      } else {
        const contentEl = document.querySelector('.id--content');
        const deadEl = document.querySelector('.id--dead');
        contentEl.classList.remove('hidden');
        deadEl.classList.add('hidden');

        const dbMgr = new DBManager({ dbId: 'face-with-head-bandage', dbVer: 1 });
        dbMgr.folders.read();
      }
    };

    class DBManager {
      #CONST = {
        STORES: {
          FOLDERS: 'folders'
        }
      };

      #conf;

      /** @param {{dbId: string, dbVer: number}} conf */
      constructor(conf) {
        this.#conf = conf;
      }

      get folders() {
        return {
          read: (id) => {
            console.log('!', this.#conf.dbId);
          }
        };
      }
    }
  </script>
</body>

</html>